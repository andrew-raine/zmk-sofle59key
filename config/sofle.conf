# Copyright (c) 2020 Ryan Cross
# SPDX-License-Identifier: MIT

# ── Display ────────────────────────────────────────────────────────────────
CONFIG_ZMK_DISPLAY=y              # Nice!View shields need the display stack
CONFIG_ZMK_EXT_POWER=y            # Let ZMK cut power to the OLEDs in idle/sleep

# ── Encoders ───────────────────────────────────────────────────────────────
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# ── Power-management timings ───────────────────────────────────────────────
CONFIG_ZMK_IDLE_TIMEOUT=30000         # 30 s idle → idle state (screens off, BLE stays up)
CONFIG_ZMK_SLEEP=y                    # Deep-sleep support (already enabled)
CONFIG_ZMK_IDLE_SLEEP=y               # Allow idle-timeout to fall through to deep sleep
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=600000  # 10 min idle → deep sleep (BLE disconnect)

# ── Radio ──────────────────────────────────────────────────────────────────
CONFIG_BT_CTLR_TX_PWR_0=y             # 0 dBm is plenty at desk range; saves battery
# (commented out the +8 dBm setting)
# CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# ── Miscellaneous ──────────────────────────────────────────────────────────
CONFIG_ZMK_KEYBOARD_NAME="SofleChoc"
CONFIG_ZMK_STUDIO=yes
CONFIG_ZMK_POINTING=y

# ── Optional lighting (still disabled) ─────────────────────────────────────
# CONFIG_ZMK_RGB_UNDERGLOW=y
# CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=n
